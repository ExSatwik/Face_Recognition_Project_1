---
title: DeepFace Face Recognition
emoji: 🔍
colorFrom: yellow
colorTo: red
sdk: streamlit # Your app uses Streamlit, so this is correct.
sdk_version: 1.34.0 # A recent common Streamlit version. Adjust if needed.
app_file: app.py # Your main application file is indeed app.py.
pinned: false
---

# 🕵️‍♀️ DeepFace Face Recognition App

This Hugging Face Space hosts a web application for face recognition using the powerful [DeepFace](https://github.com/serengil/deepface) library. It allows you to:

* **Upload an image** or **capture from your webcam** to identify faces.
* **Select various recognition models** (VGG-Face, Facenet, ArcFace, Dlib).
* **Choose different distance metrics** (cosine, euclidean, euclidean_l2).
* **Add unknown faces** to your database for future recognition.

The application uses pre-computed embeddings for your existing `faces/` database to perform fast matching against new queries.

## 🚀 How to Use

1.  **Select Input Method:** Choose between "Upload" to upload an image file or "Webcam" to capture a live photo.
2.  **Upload/Capture Image:** Follow the prompts to either upload your image or take a picture with your webcam.
3.  **Choose Model & Metric:** Select your preferred face recognition model and distance metric from the dropdowns.
4.  **View Results:** The app will display the best match found in the database, along with the distance score and whether the match was accepted based on the configured threshold.
5.  **Add New Faces:** If a match is not found or rejected, you will be given an option to add the face to the database by providing a name.

## 📦 Required Files

For this Space to function correctly, ensure the following are present in your repository:

* `app.py`: Your main Streamlit application code (this file).
* `requirements.txt`: A file listing all Python dependencies (e.g., `streamlit`, `deepface`, `opencv-python`, `numpy`, `pandas`, `scipy`).
* `faces/` directory: This folder should contain your database of known face images (`.jpg`, `.jpeg`, `.png` files).
* `representations_*.pkl` files: These are the pre-computed embedding files generated by DeepFace for each model. The app expects them based on the selected model (e.g., `representations_vggface.pkl`, `representations_arcface.pkl`, etc.). **Make sure these `.pkl` files and the images in `faces/` are properly tracked with Git LFS.**

## 🛠️ Setup and Dependencies

This application requires the following Python packages. You should have a `requirements.txt` file in your repository's root containing:
streamlit
deepface
opencv-python
numpy
pandas
scipy


Hugging Face Spaces will automatically install these dependencies when the Space builds.

## 📂 Project Structure

.
├── .github/
│   └── workflows/
│       └── sync_to_hf_space.yml # GitHub Action for syncing with Hugging Face
├── faces/
│   ├── Anshuman Gupta.jpg
│   ├── Harsh Chaudhary.jpg
│   └── ... (your other face images)
├── representations_arcface.pkl
├── representations_facenet.pkl
├── representations_dlib.pkl
├── representations_vggface.pkl
├── app.py                     # Your Streamlit application code
└── README.md                  # This file
└── requirements.txt           # Python dependencies


## ⚠️ Important Notes

* **Git LFS:** Ensure all large files (like images in `faces/` and the `.pkl` embedding files) are properly tracked with Git Large File Storage (LFS) to avoid repository size issues and ensure smooth deployment to Hugging Face.
* **Pre-computation of Embeddings:** The `representations_*.pkl` files should ideally be generated locally and then pushed via Git LFS. The app will generate them if they don't exist, but it's best to have them ready.

---